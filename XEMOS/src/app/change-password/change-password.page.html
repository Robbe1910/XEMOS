<div class="container">
  <h2>Change Password</h2>
  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="form-change-password">
    <div class="form-group">
      <label for="email">Email:</label>
      <div class="fields">
        <i class="fa-solid fa-envelope" style="color: #424242;"></i>
        <input formControlName="email" type="email" id="email" class="form-control" required>
      </div>
    </div>
    <div class="form-group">
      <label for="newPassword">New Password:</label>
      <div class="fields">
        <i class="fas" [ngClass]="{'fa-eye-slash': hideNewPassword, 'fa-eye': !hideNewPassword}" (click)="toggleNewPasswordVisibility()" style="color: #424242;"></i>
        <input formControlName="newPassword" type="{{ hideNewPassword ? 'password' : 'text' }}" id="newPassword" class="form-control" required>
      </div>
      <div *ngIf="changePasswordForm.controls['newPassword'].touched && changePasswordForm.controls['newPassword'].errors?.['minlength']" class="error-message">
        Password must be at least 8 characters long
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm Password:</label>
      <div class="fields">
        <i class="fas" [ngClass]="{'fa-eye-slash': hideConfirmPassword, 'fa-eye': !hideConfirmPassword}" (click)="toggleConfirmPasswordVisibility()" style="color: #424242;"></i>
        <input formControlName="confirmPassword" type="{{ hideConfirmPassword ? 'password' : 'text' }}" id="confirmPassword" class="form-control" required>
      </div>
      <div *ngIf="changePasswordForm.hasError('notSame') && changePasswordForm.controls['confirmPassword'].touched" class="error-message">
        Passwords do not match
      </div>
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <button type="submit" class="btn btn-primary">Change Password</button>
  </form>
</div>
